<style>
    pre {
        white-space: pre-wrap;       /* css-3 */
        white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
        white-space: -pre-wrap;      /* Opera 4-6 */
        white-space: -o-pre-wrap;    /* Opera 7 */
        word-wrap: break-word;
    }
</style>

<h2>Calendar create</h2>
<form action="/calendars" method="post">
    <input type="text" name="name" value=""/>
    <input type="submit" name="Create" value="Create">
</form>
<hr>
<h2>Calendars list</h2>
<ul class="calendars-list"></ul>
<hr>
<h2>API response detail</h2>
<pre id="json">
</pre>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" type="text/javascript"></script>
<script>
    var response = "{{ .response }}";
    if (response.length) {
        let jsResp = JSON.parse(response);
        $('#json').text(JSON.stringify(jsResp, undefined, 2), undefined, 2);

        for (let i in jsResp.value) {
            $('.calendars-list').append(`<li><a href="/calendars/${jsResp.value[i].id}">${jsResp.value[i].name}</a> - (Owner ${jsResp.value[i].owner.name})</li>`)
        }
    }
</script>
